@using Microsoft.Extensions.Options
@using chd.CaraVan.Contracts.Settings
@inject IOptionsMonitor<DeviceSettings> optionsMonitor

<MudNavMenu>
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard">Dashboard</MudNavLink>
    <MudNavLink Href="/smartbuttons" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.SmartButton">Buttons</MudNavLink>
    <MudNavGroup Title="Ruuvi Sensoren" Icon="@Icons.Material.Filled.Sensors" Expanded="false">
        @foreach (var dev in optionsMonitor.CurrentValue.RuuviTags)
        {
            <MudNavLink Href="@($"/ruuvitag/{dev.Id}")" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Devices">@dev.Name</MudNavLink>
        }
    </MudNavGroup>
    <MudNavGroup Title="Stromversorgung" Icon="@Icons.Material.Filled.PowerInput">
        <MudNavLink Href="/battery" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.BatteryStd">Battery</MudNavLink>
        <MudNavLink Href="/solar" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.SolarPower">Solar</MudNavLink>
    </MudNavGroup>
</MudNavMenu>