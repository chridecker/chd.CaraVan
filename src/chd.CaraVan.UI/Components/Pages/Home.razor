@page "/"
@using chd.CaraVan.Contracts.Dtos
@using chd.CaraVan.UI.Components.Pages.Cards

<PageTitle>Home</PageTitle>


<MudCard Outlined="true">
    <MudCardContent>
        @if (this.VotronicBatteryData != null)
        {
            <LoadingCard Time="@this.VotronicBatteryData.DateTime"
                BatteryAmpere="@this.VotronicBatteryData.Ampere"
                         BatteryAmpereH="@this.VotronicBatteryData.AmpereH"
                         BatteryPercent="@this.VotronicBatteryData.Percent"
            SolarAmpere="@this.VotronicSolarData.Ampere" SolarState="@this.VotronicSolarData.State" />
        }
    </MudCardContent>
</MudCard>

<MudSpacer />
@foreach (var device in this.DeviceSettings.CurrentValue.RuuviTags)
{
    <MudCard Outlined="true">
        <MudCardContent>
            <SensorCard Time="this.RuuviTagDeviceData(device).RecordDateTime"
                        Name="@device.Name"
                        Value="this.RuuviTagDeviceData(device).Value"
                        Min="this.MinMax(device).Item1"
                        Max="this.MinMax(device).Item2" />
        </MudCardContent>
    </MudCard>
}
