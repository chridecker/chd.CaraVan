@page "/"
@using chd.CaraVan.Contracts.Dtos
@using chd.CaraVan.UI.Components.Pages.Cards

<PageTitle>Home</PageTitle>


<MudCard Outlined="true" Class="device-card" @onclick="this.NavigateToBattery">
    <MudCardHeader>
        Batterie und Solaranlage 
    </MudCardHeader>
    <MudCardContent>
        @if (this.VotronicBatteryData != null)
        {
            <LoadingCard Time="@this.VotronicBatteryData.DateTime"
                BatteryAmpere="@this.VotronicBatteryData.Ampere"
                         BatteryAmpereH="@this.VotronicBatteryData.AmpereH"
                         BatteryPercent="@this.VotronicBatteryData.Percent"
            SolarAmpere="@this.VotronicSolarData.Ampere" SolarState="@this.VotronicSolarData.State" />
        }
        else
        {
            <LoadingCard Time="DateTime.Now"
                BatteryAmpere="-20.6m"
                         BatteryAmpereH="200"
                         BatteryPercent="100"
                         SolarAmpere="4.2m" SolarState="25" />
        }
    </MudCardContent>
</MudCard>

<MudSpacer />
<MudCarousel Style="min-height:10rem" Class="mud-width-full chd-carousel" AutoCycle="false" ShowBullets="false" ShowArrows="true" EnableSwipeGesture="true" TData="object">
    @foreach (var device in this.DeviceSettings.CurrentValue.RuuviTags)
    {
        <MudCarouselItem Transition="@Transition.Slide" Color="@Color.Primary">
            <RuuviTagCard DeviceDto="device" />
        </MudCarouselItem>
    }
</MudCarousel>
