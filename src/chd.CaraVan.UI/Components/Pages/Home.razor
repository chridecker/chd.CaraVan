@page "/"
@using chd.CaraVan.Contracts.Dtos
@using chd.CaraVan.UI.Components.Pages.Cards

<PageTitle>Home</PageTitle>


<MudCard Outlined="true" @onclick="this.NavigateToBattery">
    <MudCardContent>
        @if (this.VotronicBatteryData != null)
        {
            <LoadingCard Time="@this.VotronicBatteryData.DateTime"
                BatteryAmpere="@this.VotronicBatteryData.Ampere"
                         BatteryAmpereH="@this.VotronicBatteryData.AmpereH"
                         BatteryPercent="@this.VotronicBatteryData.Percent"
            SolarAmpere="@this.VotronicSolarData.Ampere" SolarState="@this.VotronicSolarData.State" />
        }
        else
        {
            <LoadingCard Time="DateTime.Now"
                BatteryAmpere="30.6m"
                         BatteryAmpereH="200"
                         BatteryPercent="100"
                         SolarAmpere="4.2m" SolarState="25" />
        }
    </MudCardContent>
</MudCard>

<MudSpacer />
@foreach (var device in this.DeviceSettings.CurrentValue.RuuviTags)
{
    <MudCard Outlined="true">
        <MudCardContent>
            <SensorCard Time="DateTime.Now"
                        Name="@device.Name"
                        Value="12.23m"
                        Min="4"
                        Max="23" />
        </MudCardContent>
    </MudCard>
}
